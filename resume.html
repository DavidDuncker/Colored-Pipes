<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
canvas {
    border: 1px solid #d3d3d3;
    background-color: #f1f1f1;
}
</style>
</head>
<body onload="startGame()">
<script>

function startGame() {
    myGameArea.start();
    grid = new Grid(7, 15, myGameArea.canvas);
    grid.createBorders(borderwidth=3);
    // myGameArea.canvas.addEventListener(
    //     "click", 
    //     (event) => { 
    //         console.log(event); 
    //         grid.getCellFromPoint(event.x, event.y)
    //     } 
    // )
    console.log(grid.gridArray[0][0])
    console.log(grid.gridArray[0][0].pipeDisplay)
    grid.gridArray[0][0].pipeDisplay.drawPipes(['bottom']);
}

var myGameArea = {
    canvas : document.createElement("canvas"),
    start : function() {
        this.canvas.width = 480;
        this.canvas.height = 270;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[0]);
    }
}

getInfoOnCell = function(rowNumber, columnNumber, rowSize, columnSize) {
        cellData = {
            topBorder : rowNumber * rowSize,
            bottomBorder : (rowNumber + 1) * rowSize,
            leftBorder : columnNumber * columnSize,
            rightBorder : (columnNumber + 1) * columnSize
        }

        return cellData
    }


class Grid {
    numberOfRows = 1;
    numberOfColumns = 1;
    canvas = null;
    gridArray = [];

    getCells() {
        var rowSize = this.canvas.height/this.numberOfRows;
        var columnSize = this.canvas.width/this.numberOfColumns;
        var numberOfRows = this.numberOfRows;
        var numberOfColumns = this.numberOfColumns;
        var gridArray = []
        for (let i=0; i<numberOfRows; i++) {
            gridArray.push([]);
            for(let j=0; j<numberOfColumns; j++) {
                var cell = new Cell(this.canvas, i, j, rowSize, columnSize);
                gridArray[i].push(cell);
            }
        }

        return gridArray
    }

    constructor(number_of_rows, number_of_columns, canvas) {
        this.numberOfRows = number_of_rows;
        this.numberOfColumns = number_of_columns;
        this.canvas = canvas;
        this.gridArray = this.getCells();
    }


    createBorders(borderwidth=5, fillstyle="black") {
        this.canvas.fillStyle = fillstyle;
        var canvas = this.canvas
        var context = this.canvas.getContext("2d")
        var gridArray = this.gridArray

        for (let row=0;row<gridArray.length;row++) {
            context.fillRect(0, gridArray[row][0]['topBorder'] - borderwidth, canvas.width, borderwidth);
            // context.fillRect(0, gridArray[row][0]['bottomBorder'] - borderwidth/2, canvas.width, borderwidth);

        }
        for (let column=0;column<gridArray[0].length;column++) {
            context.fillRect(gridArray[0][column]['leftBorder'], 0, borderwidth, canvas.height);
            // context.fillRect(gridArray[0][column]['rightBorder'] - borderwidth/2, 0, borderwidth, canvas.height);

        }

    }

    getCellFromPoint(inputX, inputY) {
        var gridArray = this.gridArray;

        var rowOfSelectedCell = 0;
        for (let row=0; row<gridArray.length; row++) {
            var topBorder = gridArray[row][0]['topBorder'];
            var bottomBorder = gridArray[row][0]['bottomBorder'];
            if ((inputY >= topBorder) && (inputY <= bottomBorder)) {
                rowOfSelectedCell = row;
            }
        }

        var columnOfSelectedCell = 0;
        for (let column=0; column<gridArray[0].length; column++) {
            var leftBorder = gridArray[0][column]['leftBorder'];
            var rightBorder = gridArray[0][column]['rightBorder'];
            if ((inputX >= leftBorder) && (inputX <= rightBorder)) {
                columnOfSelectedCell = column;
            }
        }

        var context = this.canvas.getContext("2d")
        context.fillRect(gridArray[rowOfSelectedCell][columnOfSelectedCell]['leftBorder'], 
            gridArray[rowOfSelectedCell][columnOfSelectedCell]['topBorder'], 
            gridArray[rowOfSelectedCell][columnOfSelectedCell]['rightBorder'] 
            - gridArray[rowOfSelectedCell][columnOfSelectedCell]['leftBorder'], 
            gridArray[rowOfSelectedCell][columnOfSelectedCell]['bottomBorder'] 
            - gridArray[rowOfSelectedCell][columnOfSelectedCell]['topBorder']);

    }

}

class Cell {
    leftBorder = 0;
    rightBorder = 0;
    topBorder = 0;
    bottomBorder = 0;
    pipeDisplay = null;
    canvas = null;
    
    constructor(canvas, rowNumber, columnNumber, rowSize, columnSize) {
        this.canvas = canvas
        this.topBorder = rowNumber * rowSize;
        this.bottomBorder = (rowNumber + 1) * rowSize;
        this.leftBorder = columnNumber * columnSize,
        this.rightBorder = (columnNumber + 1) * columnSize
        this.pipeDisplay = new PipeDisplayInsideCell(this, null, null, null, null)
    }

}

class PipeDisplayInsideCell {
    pipe1 = { 
        entranceSide: null,
        exitSide: null,
        color: null
    };

    pipe2 = {
        entranceSide: null,
        exitSide: null,
        color: "green"
    };

    leftBorder = 0;
    rightBorder = 0;
    topBorder = 0;
    bottomBorder = 0;
    canvas = null;
    context = null;
    keyPointsForDrawingPipes = {};

    pipe1Entrance = 'left'; 
    pipe1Exit = 'right';
    pipe2Entrance = 'top';
    pipe2Exit = 'bottom';

    constructor(cell, pipe1Entrance, pipe1Exit, pipe2Entrance, pipe2Exit) {
        this.leftBorder = cell.leftBorder;
        this.rightBorder = cell.rightBorder;
        this.topBorder = cell.topBorder;
        this.bottomBorder = cell.bottomBorder;
        this.canvas = cell.canvas;
        this.context = cell.canvas.getContext("2d");

        var pipeDirections = [pipe1Entrance, pipe1Exit, pipe2Entrance, pipe2Exit]
        pipeDirections.forEach(elementFromTopLoop => {
            var remainingElements = pipeDirections.filter( (elementFromInnerLoop, index) => { return elementFromInnerLoop != elementFromTopLoop } )
            remainingElements.forEach(elementFromInnerLoop => {
                if (elementFromTopLoop == elementFromInnerLoop) {
                    console.log("Error! Two overlapping pipes!")
                }
            })
        });

        this.getKeyPointsForDrawingPipes();
    };

    getKeyPointsForDrawingPipes() {
        var pipeWidthAsPercentage = 0.3;
        var pipeBorderWidthAsPercentage = 0.1;
        var pipeLengthBeforeCurvingOverToPerpendicularSide = 0.3;

        var cellWidth = this.rightBorder - this.leftBorder;
        var cellHeight = this.bottomBorder - this.topBorder;

        //The points needed for drawing a pipe from the top of the cell
        {
            this.keyPointsForDrawingPipes['top'] = {};
            this.keyPointsForDrawingPipes['top']['center'] = {
                'x': (this.leftBorder + this.rightBorder)/2, 
                'y': this.topBorder
            };
            this.keyPointsForDrawingPipes['top']['counterclockwise'] = {};
            this.keyPointsForDrawingPipes['top']['counterclockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['top']['counterclockwise']['inner'] = {};

            this.keyPointsForDrawingPipes['top']['counterclockwise']['outer']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['top']['center']['x'] - cellWidth * pipeWidthAsPercentage / 2,
                'y': this.topBorder
            }
            this.keyPointsForDrawingPipes['top']['counterclockwise']['outer']['border'] = {
                'x': this.keyPointsForDrawingPipes['top']['counterclockwise']['outer']['pipe']['x'] - cellWidth * pipeBorderWidthAsPercentage,
                'y': this.topBorder
            }
            this.keyPointsForDrawingPipes['top']['clockwise'] = {};
            this.keyPointsForDrawingPipes['top']['clockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['top']['clockwise']['inner'] = {};
            this.keyPointsForDrawingPipes['top']['clockwise']['outer']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['top']['center']['x'] + cellWidth * pipeWidthAsPercentage / 2,
                'y': this.topBorder
            }
            this.keyPointsForDrawingPipes['top']['clockwise']['outer']['border'] = {
                'x': this.keyPointsForDrawingPipes['top']['clockwise']['outer']['pipe']['x'] + cellWidth * pipeBorderWidthAsPercentage,
                'y': this.topBorder
            }
            this.keyPointsForDrawingPipes['top']['counterclockwise']['inner']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['top']['center']['x'] - cellWidth * pipeWidthAsPercentage / 2,
                'y': this.topBorder + cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
            this.keyPointsForDrawingPipes['top']['counterclockwise']['inner']['border'] = {
                'x': this.keyPointsForDrawingPipes['top']['counterclockwise']['outer']['border']['x'],
                'y': this.topBorder + cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
            this.keyPointsForDrawingPipes['top']['clockwise']['inner']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['top']['center']['x'] + cellWidth * pipeWidthAsPercentage / 2,
                'y': this.topBorder + cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
            this.keyPointsForDrawingPipes['top']['clockwise']['inner']['border'] = {
                'x': this.keyPointsForDrawingPipes['top']['clockwise']['outer']['border']['x'] + cellWidth * pipeBorderWidthAsPercentage,
                'y': this.topBorder + cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
        }
        
        //The points needed for drawing a pipe from the bottom of the cell
        {
            this.keyPointsForDrawingPipes['bottom'] = {};
            this.keyPointsForDrawingPipes['bottom']['center'] = {
                'x': (this.leftBorder + this.rightBorder)/2, 
                'y': this.bottomBorder
            };
            this.keyPointsForDrawingPipes['bottom']['clockwise'] = {};
            this.keyPointsForDrawingPipes['bottom']['clockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['bottom']['clockwise']['inner'] = {};
            this.keyPointsForDrawingPipes['bottom']['clockwise']['outer']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['center']['x'] - cellWidth * pipeWidthAsPercentage / 2,
                'y': this.bottomBorder
            }
            this.keyPointsForDrawingPipes['bottom']['clockwise']['outer']['border'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['counterclockwise']['outer']['pipe']['x'] - cellWidth * pipeBorderWidthAsPercentage,
                'y': this.bottomBorder
            }
            this.keyPointsForDrawingPipes['bottom']['counterclockwise'] = {};
            this.keyPointsForDrawingPipes['bottom']['counterclockwise'] = {};
            this.keyPointsForDrawingPipes['bottom']['counterclockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['bottom']['counterclockwise']['inner'] = {};
            this.keyPointsForDrawingPipes['bottom']['counterclockwise']['outer']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['center']['x'] + cellWidth * pipeWidthAsPercentage / 2,
                'y': this.bottomBorder
            }
            this.keyPointsForDrawingPipes['bottom']['counterclockwise']['outer']['border'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['counterclockwise']['outer']['pipe']['x'] + cellWidth * pipeBorderWidthAsPercentage,
                'y': this.bottomBorder
            }
            this.keyPointsForDrawingPipes['bottom']['clockwise']['inner']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['clockwise']['outer']['pipe'],
                'y': this.bottomBorder - cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
            this.keyPointsForDrawingPipes['bottom']['clockwise']['inner']['border'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['clockwise']['outer']['border'],
                'y': this.bottomBorder - cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
            this.keyPointsForDrawingPipes['bottom']['counterclockwise']['inner']['pipe'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['counterclockwise']['outer']['pipe']['x'],
                'y': this.bottomBorder - cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
            this.keyPointsForDrawingPipes['bottom']['counterclockwise']['inner']['border'] = {
                'x': this.keyPointsForDrawingPipes['bottom']['counterclockwise']['outer']['border']['x'],
                'y': this.bottomBorder - cellHeight * pipeLengthBeforeCurvingOverToPerpendicularSide
            }
        }
        
        //The points needed for drawing a pipe from the left of the cell
        {
            this.keyPointsForDrawingPipes['left'] = {};
            this.keyPointsForDrawingPipes['left']['center'] = {
                'x': this.leftBorder,
                'y': (this.topBorder + this.bottomBorder)/2, 
            };
            this.keyPointsForDrawingPipes['left']['clockwise'] = {};
            this.keyPointsForDrawingPipes['left']['clockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['left']['clockwise']['inner'] = {};
            this.keyPointsForDrawingPipes['left']['clockwise']['outer']['pipe'] = {
                'x': this.leftBorder,
                'y': this.keyPointsForDrawingPipes['left']['center']['y'] - cellHeight * pipeWidthAsPercentage / 2,
            }
            this.keyPointsForDrawingPipes['left']['clockwise']['outer']['border'] = {
                'x': this.leftBorder,
                'y': this.keyPointsForDrawingPipes['left']['clockwise']['outer']['pipe']['y'] - cellHeight * pipeBorderWidthAsPercentage,
            }
            this.keyPointsForDrawingPipes['left']['counterclockwise'] = {};
            this.keyPointsForDrawingPipes['left']['counterclockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['left']['counterclockwise']['inner'] = {};
            this.keyPointsForDrawingPipes['left']['counterclockwise']['outer']['pipe'] = {
                'x': this.leftBorder,
                'y': this.keyPointsForDrawingPipes['left']['center']['y'] + cellHeight * pipeWidthAsPercentage / 2,
            }
            this.keyPointsForDrawingPipes['left']['counterclockwise']['outer']['border'] = {
                'x': this.leftBorder,
                'y': this.keyPointsForDrawingPipes['left']['counterclockwise']['outer']['pipe']['y'] + cellHeight * pipeBorderWidthAsPercentage,
            }
            this.keyPointsForDrawingPipes['left']['clockwise']['inner']['pipe'] = {
                'x': this.leftBorder + cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['left']['clockwise']['outer']['pipe']['y'],
            }
            this.keyPointsForDrawingPipes['left']['clockwise']['inner']['border'] = {
                'x': this.leftBorder + cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['left']['clockwise']['outer']['border']['y'],
            }
            this.keyPointsForDrawingPipes['left']['counterclockwise']['inner']['pipe'] = {
                'x': this.leftBorder + cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['left']['counterclockwise']['outer']['pipe']['y'],
            }
            this.keyPointsForDrawingPipes['left']['counterclockwise']['inner']['border'] = {
                'x': this.leftBorder + cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['left']['counterclockwise']['outer']['border']['y'],
            }
        }
        
        //The points needed for drawing a pipe from the right of the cell
        {
            this.keyPointsForDrawingPipes['right'] = {};
            this.keyPointsForDrawingPipes['right']['center'] = {
                'x': this.rightBorder,
                'y': (this.topBorder + this.bottomBorder)/2, 
            };
            this.keyPointsForDrawingPipes['right']['counterclockwise'] = {};
            this.keyPointsForDrawingPipes['right']['counterclockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['right']['counterclockwise']['inner'] = {};

            this.keyPointsForDrawingPipes['right']['counterclockwise']['outer']['pipe'] = {
                'x': this.rightBorder,
                'y': this.keyPointsForDrawingPipes['right']['center']['y'] - cellHeight * pipeWidthAsPercentage / 2,
            }
            this.keyPointsForDrawingPipes['right']['counterclockwise']['outer']['border'] = {
                'x': this.rightBorder,
                'y': this.keyPointsForDrawingPipes['right']['counterclockwise']['outer']['pipe']['y'] - cellHeight * pipeBorderWidthAsPercentage,
            }
            this.keyPointsForDrawingPipes['right']['clockwise'] = {};
            this.keyPointsForDrawingPipes['right']['clockwise']['outer'] = {};
            this.keyPointsForDrawingPipes['right']['clockwise']['inner'] = {};
            this.keyPointsForDrawingPipes['right']['clockwise']['outer']['pipe'] = {
                'x': this.rightBorder,
                'y': this.keyPointsForDrawingPipes['right']['center']['y'] + cellHeight * pipeWidthAsPercentage / 2,
            }
            this.keyPointsForDrawingPipes['right']['clockwise']['outer']['border'] = {
                'x': this.rightBorder,
                'y': this.keyPointsForDrawingPipes['right']['clockwise']['outer']['pipe']['y'] + cellHeight * pipeBorderWidthAsPercentage,
            }
            this.keyPointsForDrawingPipes['right']['counterclockwise']['inner']['pipe'] = {
                'x': this.rightBorder - cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['right']['center']['y'] - cellHeight * pipeWidthAsPercentage / 2,
            }
            this.keyPointsForDrawingPipes['right']['counterclockwise']['inner']['border'] = {
                'x': this.rightBorder - cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['right']['counterclockwise']['outer']['border']['y'],
            }
            this.keyPointsForDrawingPipes['right']['clockwise']['inner']['pipe'] = {
                'x': this.rightBorder - cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['right']['clockwise']['inner']['pipe']['y'],
            }
            this.keyPointsForDrawingPipes['right']['clockwise']['inner']['border'] = {
                'x': this.rightBorder - cellWidth * pipeLengthBeforeCurvingOverToPerpendicularSide,
                'y': this.keyPointsForDrawingPipes['right']['clockwise']['outer']['border']['y'],
            }
        }
        
    }

    drawPipes(listOfDirectionsThatPipeTravels) {
        var pipeColor = 'green'
        if ( listOfDirectionsThatPipeTravels.includes("top") ) {
            //Fill in pipe area
            var topLeftX = this.keyPointsForDrawingPipes["top"]["left"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["top"]["left"]["pipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["top"]["left"]["lowerPipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["top"]["right"]["pipeEdge"]['x'] - topLeftX
            this.context.fillStyle = pipeColor
            this.context.fillRect(topLeftX, topLeftY, width, height)

            //Fill in left border
            var topLeftX = this.keyPointsForDrawingPipes["top"]["left"]["pipeBorderEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["top"]["left"]["pipeBorderEdge"]['y']
            var height = this.keyPointsForDrawingPipes["top"]["left"]["lowerPipeBorderEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["top"]["left"]["pipeEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)

            //Fill in right border
            var topLeftX = this.keyPointsForDrawingPipes["top"]["right"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["top"]["right"]["pipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["top"]["right"]["lowerPipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["top"]["right"]["pipeBorderEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)
        }

        if ( listOfDirectionsThatPipeTravels.includes("left") ) {
            //Fill in pipe area
            var topLeftX = this.keyPointsForDrawingPipes["left"]["top"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["left"]["top"]["pipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["left"]["bottom"]["pipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["left"]["top"]["innerPipeEdge"]['x'] - topLeftX
            this.context.fillStyle = pipeColor;
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)

            //Fill in top border
            var topLeftX = this.keyPointsForDrawingPipes["left"]["top"]["pipeBorderEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["left"]["top"]["pipeBorderEdge"]['y']
            var height = this.keyPointsForDrawingPipes["left"]["top"]["pipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["left"]["top"]["innerPipeBorderEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)

            //Fill in bottom border
            var topLeftX = this.keyPointsForDrawingPipes["left"]["bottom"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["left"]["bottom"]["pipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["left"]["bottom"]["pipeBorderEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["left"]["bottom"]["innerPipeEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)
            
        }

        if ( listOfDirectionsThatPipeTravels.includes("right") ) {
            //Fill in pipe area
            var topLeftX = this.keyPointsForDrawingPipes["right"]["top"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["right"]["top"]["pipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["right"]["bottom"]["pipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["right"]["top"]["innerPipeEdge"]['x'] - topLeftX
            this.context.fillStyle = pipeColor;
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)

            //Fill in top border
            var topLeftX = this.keyPointsForDrawingPipes["right"]["top"]["pipeBorderEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["right"]["top"]["pipeBorderEdge"]['y']
            var height = this.keyPointsForDrawingPipes["right"]["top"]["pipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["right"]["top"]["innerPipeBorderEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)

            //Fill in bottom border
            var topLeftX = this.keyPointsForDrawingPipes["right"]["bottom"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["right"]["bottom"]["pipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["right"]["bottom"]["pipeBorderEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["right"]["bottom"]["innerPipeEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)
            
        }

        if ( listOfDirectionsThatPipeTravels.includes("bottom") ) {
            //Fill in pipe area
            var topLeftX = this.keyPointsForDrawingPipes["bottom"]["left"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["bottom"]["left"]["upperPipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["bottom"]["left"]["pipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["bottom"]["right"]["pipeEdge"]['x'] - topLeftX
            this.context.fillStyle = pipeColor;
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)

            //Fill in left border
            var topLeftX = this.keyPointsForDrawingPipes["bottom"]["left"]["pipeBorderEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["bottom"]["left"]["upperPipeBorderEdge"]['y']
            var height = this.keyPointsForDrawingPipes["bottom"]["left"]["pipeBorderEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["bottom"]["left"]["pipeEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)

            //Fill in right border
            var topLeftX = this.keyPointsForDrawingPipes["bottom"]["right"]["pipeEdge"]['x']
            var topLeftY = this.keyPointsForDrawingPipes["bottom"]["right"]["upperPipeEdge"]['y']
            var height = this.keyPointsForDrawingPipes["bottom"]["right"]["pipeEdge"]['y'] - topLeftY
            var width = this.keyPointsForDrawingPipes["bottom"]["right"]["pipeBorderEdge"]['x'] - topLeftX
            this.context.fillStyle = 'black';
            this.context.fillRect(topLeftX, topLeftY, width, height)
            console.log(topLeftX, topLeftY, width, height)
            
        }


    }

    drawPipeCenter(listOfDirectionsThatPipeTravels) {
        var circularCenter = {x: null, y: null};
        var outerBorder = {x: null, y: null};
        var outerPipe = {x: null, y: null};
        var innerBorder = {x: null, y: null};
        var startingAngle = null;

        var pipeGoesLeft = listOfDirectionsThatPipeTravels.includes("left");
        var pipeGoesUp = listOfDirectionsThatPipeTravels.includes("top");
        var pipeGoesDown = listOfDirectionsThatPipeTravels.includes("bottom");
        var pipeGoesRight = listOfDirectionsThatPipeTravels.includes("right");

        function drawCenter() {

        }
        
        if ( pipeGoesLeft && pipeGoesUp ) {
            circularCenter = {x: this.leftBorder, y: this.topBorder};
            startingAngle = 0;
            outerBorder = {x: null, y: null};
            outerPipe = {x: null, y: null};
            innerBorder = {x: null, y: null};
        }

        if ( pipeGoesLeft && pipeGoesDown ) {
            circularCenter = {x: this.leftBorder, y: this.bottomBorder};
            startingAngle = 1.5 * Math.PI
            outerBorder = {x: null, y: null};
            outerPipe = {x: null, y: null};
            innerBorder = {x: null, y: null};
        }
        if ( pipeGoesRight && pipeGoesUp ) {
            circularCenter = {x: this.rightBorder, y: this.topBorder};
            startingAngle = 0.5 * Math.PI
            outerBorder = {x: null, y: null};
            outerPipe = {x: null, y: null};
            innerBorder = {x: null, y: null};
        }

        if ( pipeGoesRight && pipeGoesDown ) {
            circularCenter = {x: this.rightBorder, y: this.bottomBorder};
            startingAngle = 1 * Math.PI
            outerBorder = {x: null, y: null};
            outerPipe = {x: null, y: null};
            innerBorder = {x: null, y: null};
        }

        if ( pipeGoesLeft && pipeGoesRight ) {
            circularCenter = {x: null, y: null};
            outerBorder = {x: null, y: null};
            outerPipe = {x: null, y: null};
            innerBorder = {x: null, y: null};
        }

        if ( pipeGoesUp && pipeGoesDown ) {
            circularCenter = {x: null, y: null};
            outerBorder = {x: null, y: null};
            outerPipe = {x: null, y: null};
            innerBorder = {x: null, y: null};
        }


    }


}

function createStraightPipe(angle, color) {
    this.width = 300;
    this.height = 100;
    this.x = 100
    this.y = 100
    context = myGameArea.context;
    context.fillStyle = "red";
    context.fillRect(this.x, this.y, this.width, this.height)
}

</script>

<p>We have created a game area! (or at least an empty canvas)</p>

</body>
</html>
